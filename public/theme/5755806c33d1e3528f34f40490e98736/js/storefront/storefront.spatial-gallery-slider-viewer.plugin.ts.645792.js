"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[88579],{3362:(e,i,t)=>{t.d(i,{A:()=>n});var s=t(4335),l=t(6647);class n extends s.A{async init(){await (0,l.X)(),await this.initViewer()}async initViewer(){this.setReady(!1),this.canvas=this.el,this.canvas.tabIndex=0,void 0==this._dive&&(this._dive=await window.DIVEClass.QuickView(this.options.modelUrl,{autoStart:!1,canvas:this.el})),this.$emitter.publish("Viewer/initViewer")}startRendering(){this.rendering||(this.rendering=!0,this._dive?.engine.start(),this.canvas?.parentElement?.classList.add("spatial-canvas-rendering"),this.ready&&this.canvas?.parentElement?.classList.add("spatial-canvas-display"),this.$emitter.publish("Viewer/startRendering"))}stopRendering(){this.rendering=!1,this.canvas?.parentElement?.classList.remove("spatial-canvas-rendering"),this.$emitter.publish("Viewer/stopRendering")}setReady(e){this.ready!==e&&(this.ready=e,this.onReady(e))}onReady(e){void 0!=this.canvas&&(e?(this.$emitter.publish("Viewer/ready"),this.canvas.parentElement?.classList.add("spatial-canvas-ready"),this.rendering&&this.canvas.parentElement?.classList.add("spatial-canvas-display")):(this.$emitter.publish("Viewer/notReady"),this.canvas.parentElement?.classList.remove("spatial-canvas-ready"),this.canvas.parentElement?.classList.remove("spatial-canvas-display")))}constructor(...e){super(...e),this.rendering=!1,this.ready=!1}}},8579:(e,i,t)=>{t.r(i),t.d(i,{default:()=>a});var s=t(3362);class l{static #e=this.options={sliderSelector:".tns-item",gallerySliderSelector:".gallery-slider-row",sliderPositionAttribute:"data-product-slider-position",singleImageGallerySelector:".gallery-slider-single-image",gallerySliderDisabledClass:"gallery-slider-canvas-disabled"};constructor(e){this.sliderElement=null,this.tnsSlider=null,this.sliderPlugin=null,this.plugin=e,this.init()}init(){this.refreshSliderElements(),null!=this.sliderElement&&null!=this.tnsSlider&&this.initEventListeners()}initRender(){let e=this.tnsSlider?.getInfo();(this.plugin.el?.closest(l.options.gallerySliderSelector)?.querySelector(l.options.singleImageGallerySelector)||e?.slideItems[e.index]===this.sliderElement)&&this.plugin.startRendering()}initEventListeners(){this.sliderPlugin?.$emitter.unsubscribe("rebuild",this.rebuildEvent.bind(this)),this.tnsSlider?.events.on("indexChanged",this.indexChangedEvent.bind(this)),this.sliderPlugin?.$emitter.subscribe("rebuild",this.rebuildEvent.bind(this))}removeDisabled(){this.plugin.el?.parentElement?.parentElement?.classList.remove(l.options.gallerySliderDisabledClass)}rebuildEvent(){window.PluginManager.initializePlugin("SpatialGallerySliderViewer","[data-spatial-gallery-slider-viewer]"),window.PluginManager.initializePlugin("SpatialZoomGallerySliderViewer","[data-spatial-zoom-gallery-slider-viewer]"),window.PluginManager.initializePlugin("SpatialArViewer","[data-spatial-ar-viewer]")}indexChangedEvent(e){this.plugin.sliderIndex==e.index?setTimeout(()=>{this.plugin.sliderIndex==this.tnsSlider.getInfo().index&&this.plugin.startRendering()},500):this.plugin.stopRendering()}refreshSliderElements(){this.sliderElement=this.plugin?.el?.closest(l.options.sliderSelector),this.sliderPlugin=this.getSliderPlugin(),null!=this.sliderPlugin&&(this.tnsSlider=this.sliderPlugin._slider)}getSliderPlugin(){let e=this.plugin?.el?.closest(l.options.gallerySliderSelector);if(null==e||void 0==e)return null;let i=window.PluginManager.getPluginInstanceFromElement(e,"GallerySlider");return null==i?null:i}}var n=t(6647);class a extends s.A{async init(){await (0,n.X)(),this.el&&(this.sliderIndex=Number(this.options.sliderPosition),this.spatialProductSliderRenderUtil=new l(this),this.spatialProductSliderRenderUtil.removeDisabled(),await this.initViewer())}async initViewer(){try{await super.initViewer()}catch(e){this.el?.parentElement?.parentElement?.classList.add("gallery-slider-canvas-disabled")}finally{this.setReady(!0),this.spatialProductSliderRenderUtil?.initRender()}}}},6647:(e,i,t)=>{t.d(i,{X:()=>s});async function s(){return(window.loadDiveUtil||(window.loadDiveUtil={promise:null}),window.DIVEClass||window.DIVEARPlugin)?Promise.resolve():(window.loadDiveUtil.promise||(window.loadDiveUtil.promise=new Promise(e=>{let i=Promise.all([t.e(78684),t.e(50209)]).then(t.bind(t,209)),s=Promise.all([t.e(78684),t.e(98022)]).then(t.bind(t,8022));Promise.all([i,Promise.all([t.e(78684),t.e(48883),t.e(75197),t.e(93772)]).then(t.bind(t,3772)),s]).then(i=>{let[t,s]=i;window.DIVEClass=t.DIVE,window.DIVEARPlugin=s,e()})})),window.loadDiveUtil.promise)}}}]);