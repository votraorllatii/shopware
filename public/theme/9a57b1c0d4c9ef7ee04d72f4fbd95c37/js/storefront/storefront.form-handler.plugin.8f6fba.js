"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7197],{7197:(t,i,e)=>{e.r(i),e.d(i,{default:()=>r});var o=e(4335),n=e(4059),s=e(44);class r extends o.A{static #t=this.options={validation:!0,validateOnSubmit:!0,focusInvalidField:!0,debounceTime:"200",formFieldSelector:"input, textarea, select",loadingIndicator:!0,loadingIndicatorPosition:"inner"};init(){if(!1===this._isFormElement(this.el)){console.error("[FormHandler]: Element is not of type <form>",this.el);return}this.form=this.el,this.formFields=this.form.querySelectorAll(this.options.formFieldSelector),this.submitButtons=this._getSubmitButtons(),this.submittButtonLoaders=[],!0===this.options.validation&&this._initFormValidation(),this._initFormEvents()}_initFormEvents(){this.form.addEventListener("submit",this._onFormSubmit.bind(this)),this.form.addEventListener("removeLoader",this.removeLoadingIndicator.bind(this))}_initFormValidation(){window.formValidation.setNoValidate(this.form),this.form.checkValidity=this._checkValidity.bind(this),this._initFieldValidationEvents()}_initFieldValidationEvents(){this.formFields.forEach(t=>{this._initFieldValidation(t)})}_initFieldValidation(t){let i=t.tagName.toLowerCase();t.addEventListener("select"===i?"change":"input",n.A.debounce(window.formValidation.validateField.bind(window.formValidation,t),this.options.debounceTime))}_onFormSubmit(t){if(this.$emitter.publish("beforeSubmit"),!0===this.options.validateOnSubmit){this.formFields=this.form.querySelectorAll(this.options.formFieldSelector);let i=window.formValidation.validateForm(this.form,this.formFields);if(i.length>0){t.preventDefault(),this.$emitter.publish("validationFailed",{invalidFields:i}),!0===this.options.focusInvalidField&&i[0].focus();return}}this.$emitter.publish("validSubmit"),!0===this.options.loadingIndicator&&this.addLoadingIndicator()}addLoadingIndicator(){this.submitButtons.forEach(t=>{let i=new s.A(t,this.options.loadingIndicatorPosition);this.submittButtonLoaders.push(i),i.create()})}removeLoadingIndicator(){this.submittButtonLoaders.forEach(t=>t.remove())}_checkValidity(){return this.formFields=this.form.querySelectorAll(this.options.formFieldSelector),0===window.formValidation.validateForm(this.form,this.formFields).length}_getSubmitButtons(){let t=Array.from(this.form.querySelectorAll("button[type=submit]")),i=this.form.id;if(i){let e=Array.from(document.querySelectorAll(`button[type=submit][form="${i}"]`));t.push(...e)}return t}_isFormElement(t){return"form"===t.tagName.toLowerCase()}}},44:(t,i,e)=>{e.d(i,{A:()=>n});var o=e(5683);class n extends o.A{constructor(t,i="before"){super(t,i),this._isValidElement()||console.warn(`[ButtonLoadingIndicatorUtil] Parent element is not of type <button> or <a>. Given element: ${this.parent}`)}create(){if(!this._isValidElement()){console.warn(`[ButtonLoadingIndicatorUtil] Unable to create loading indicator. Parent element is not of type <button> or <a>. Given element: ${this.parent}`);return}if("inner"===this.position){let t=this.parent.getBoundingClientRect().width;this.parent.style.width=`${t}px`}super.create(),this.parent.classList.add(`is-loading-indicator-${this.position}`),this._isButtonElement()?this.parent.disabled=!0:this._isAnchorElement()&&this.parent.classList.add("disabled")}remove(){if(!this.exists()){console.warn(`[ButtonLoadingIndicatorUtil] Unable to remove loading indicator. No indicator present on given element: ${this.parent}`);return}"inner"===this.position&&(this.parent.style.width="auto"),super.remove(),this.parent.classList.remove(`is-loading-indicator-${this.position}`),this._isButtonElement()?this.parent.disabled=!1:this._isAnchorElement()&&this.parent.classList.remove("disabled")}_isValidElement(){return this._isButtonElement()||this._isAnchorElement()}_isButtonElement(){return this.parent?.tagName.toLowerCase()==="button"}_isAnchorElement(){return this.parent?.tagName.toLowerCase()==="a"}}},5683:(t,i,e)=>{e.d(i,{A:()=>s,c:()=>n});let o="loader",n={BEFORE:"before",AFTER:"after",INNER:"inner"};class s{constructor(t,i=n.BEFORE){this.parent=t instanceof Element?t:document.body.querySelector(t),this.position=i}create(){if(!this.exists()){if(this.position===n.INNER){this._previousHTML=this.parent.innerHTML,this.parent.innerHTML=s.getTemplate();return}this.parent.insertAdjacentHTML(this._getPosition(),s.getTemplate())}}remove(){if(this.position===n.INNER){this.parent.innerHTML=this._previousHTML;return}this.parent.querySelectorAll(`.${o}`).forEach(t=>t.remove())}exists(){return this.parent.querySelectorAll(`.${o}`).length>0}_getPosition(){return this.position===n.BEFORE?"afterbegin":"beforeend"}static getTemplate(){return`<div class="${o}" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>`}static SELECTOR_CLASS(){return o}}}}]);