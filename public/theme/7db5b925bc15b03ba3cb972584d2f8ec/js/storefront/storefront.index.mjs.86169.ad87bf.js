"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[86169],{6169:(e,r,t)=>{t.r(r),t.d(r,{MediaCreator:()=>i});var o=t(261),n=Object.defineProperty,l=(e,r,t)=>r in e?n(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,s=(e,r,t)=>l(e,"symbol"!=typeof r?r+"":r,t);class i{constructor(e,r,t){s(this,"_renderer"),s(this,"_scene"),s(this,"_controller"),this._renderer=e,this._scene=r,this._controller=t}generateMedia(e){let{position:r,target:t,resolution:o}=e,{width:n,height:l}=o,s=this._controller.object.position.clone(),i=this._controller.object.quaternion.clone();this._renderer.onResize(n,l),this._controller.object.onResize(n,l),this._controller.object.position.copy(r),this._controller.target.copy(t),this._controller.update();let c=this.drawCanvas().toDataURL();return this._controller.object.position.copy(s),this._controller.object.quaternion.copy(i),c}drawCanvas(e){let r=this._renderer.webglrenderer.domElement;e&&(this._renderer.webglrenderer.domElement=e),this._controller.object.layers.mask=o.D.LIVE_VIEW_LAYER_MASK,this._renderer.webglrenderer.render(this._scene,this._controller.object),this._controller.object.layers.mask=o.D.EDITOR_VIEW_LAYER_MASK;let t=this._renderer.webglrenderer.domElement;return e&&(this._renderer.webglrenderer.domElement=r),t}}}}]);