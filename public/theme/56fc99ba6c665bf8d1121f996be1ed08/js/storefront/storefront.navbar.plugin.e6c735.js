"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45895],{5895:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var i=s(4335),o=s(4632);class n extends i.A{static #e=this.options={debounceTime:125,navItemSelector:".nav-item",topLevelLinksSelector:".main-navigation-link",ariaCurrentPageSelector:".nav-item-{id}-link",activeClass:"active",pathIdList:[]};init(){this._topLevelLinks=this.el.querySelectorAll(`${this.options.topLevelLinksSelector}`),this._registerEvents(),this._isMouseOver=!1}_registerEvents(){let e=o.A.isTouchDevice()?"touchstart":"mouseenter",t=o.A.isTouchDevice()?"touchstart":"mouseleave",s=o.A.isTouchDevice()?"touchstart":"click";this.el.addEventListener("mouseleave",this._closeAllDropdowns.bind(this)),this.el.addEventListener("focusout",this._restoreFocusAfterBtnClose.bind(this)),this._topLevelLinks.forEach(i=>{i.addEventListener(e,this._toggleNavbar.bind(this,i)),i.addEventListener(t,this._toggleNavbar.bind(this,i)),null!==i.getAttribute("href")&&i.addEventListener(s,this._navigateToLinkOnClick.bind(this,i))}),window.addEventListener("load",()=>{this._setCurrentPage()})}_toggleNavbar(e,t){let s=window.bootstrap.Dropdown.getOrCreateInstance(e);"mouseenter"===t.type?(this._isMouseOver=!0,this._debounce(()=>{this._isMouseOver&&s?._menu&&!s._menu.classList.contains("show")&&(this._closeAllDropdowns(),s.show(),this.$emitter.publish("showDropdown"))},this.options.debounceTime)):"mouseleave"===t.type&&(this._isMouseOver=!1)}_closeAllDropdowns(){Array.from(this._topLevelLinks).map(e=>window.bootstrap.Dropdown.getInstance(e)).forEach(e=>{e?._menu&&e._menu.classList.contains("show")&&e.hide()}),this.$emitter.publish("closeAllDropdowns")}_navigateToLinkOnClick(e,t){if("click"===t.type&&0!==t.pageX){if("_blank"===e.target){window.open(e.href,"_blank","noopener, noreferrer");return}window.location.href=e.href}}_debounce(e){for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this._clearDebounce(),this._debouncer=setTimeout(e.bind(this,...s),this.options.debounceTime)}_clearDebounce(){clearTimeout(this._debouncer)}_setCurrentPage(){if(window.activeNavigationId){let e=this.options.ariaCurrentPageSelector.replace("{id}",window.activeNavigationId),t=this.el.querySelector(e);t&&(t.setAttribute("aria-current","page"),t.classList.add(this.options.activeClass))}this.options.pathIdList.forEach(e=>{let t=this.options.ariaCurrentPageSelector.replace("{id}",e),s=this.el.querySelector(t);s&&s.classList.add(this.options.activeClass)})}_restoreFocusAfterBtnClose(e){if(e.relatedTarget||e.target.matches(this.options.topLevelLinksSelector))return;let t=e.target.closest(this.options.navItemSelector)?.querySelector(this.options.topLevelLinksSelector);t&&window.focusHandler.setFocus(t)}}}}]);